스트림과 데이터의 이동
---
### 스트림
* '한 방향으로 흐르는 데이터의 흐름'을 뜻한다.
* **프로그램상에서 입출력 장치들을 대상으로 데이터를 입출력하기 하기 위해서는 이들을 연결시켜 주는 다리**가 필요하다.<br/>이러한 다리의 역할을 하는 매개체를 **'스트림(stream)'** 이라 한다.
* 운영체제는 외부장치와 프로그램과의 데이터 송수신의 도구가 되는 스트림을 제공하고 있다.

```cpp
stdin  //표준 입력 스트림  키보드 대상으로 입력
stdout //표준 출력 스트림  모니터 대상으로 출력
stdin  //표준 에러 스트림  모디터 대상으로 입력
```

#### 문자 출력 함수(putchar, fputc)
* **putchar 함수**는 인자로 전달된 문자정보를 stdout으로 표현되는 표준 출력 스트림으로 전송하는 함수이다.
* **fputc 함수**는 putchar함수와 같이 문자를 전송하는 함수이지만, **문자를 전송할 스트림을 지정**할 수 있다.<br/>stdout뿐만 아니라 **파일을 대상으로도 데이터를 전송**할 수 있다.

```cpp
#include <stdio.h>

//함수호출 성공 시 쓰여진 문자정보가, 실패 시 EOF 반환
int putchar(int c);
int fputc(int c, FILE* stream);	//fputc 함수의 두 번째 매개변수 stream은 문자를 출력할 스트림의 지정에 사용된다.
```

#### 문자 입력 함수(getchar, fgetc)
* **getchar 함수**는 stdin으로 표현되는 표준 입력 스트림으로부터 하나의 문자를 입력 받아서 반환하는 함수이다.
* **fgetc 함수**는 getchar함수와 같이 하나의 문자를 입력 받는 함수이지만, **문자를 입력 받을 스트림을 지정**할 수 있다.

```cpp
#include <stdio.h>

//파일의 끝에 도달하거나 함수호출 실패 시 EOF 반환
int getchar(void);
int fgetc(FILE* stream);
```

#### EOF(End Of File)
* 파일의 끝을 표현하기 위해서 정의해 놓은 상수
* **EOF을 반환하는 조건**
1) 함수호출의 실패
2) Windows에서 CTRL + Z 키, Linux에서 CTRL + D 키가 입력되는 경우
```cpp
int ch;

while (1)
{
	ch = getchar();
	if (ch == EOF)	//Windows에서 CTRL + Z 키 입력하면 ch = EOF
		break;
	putchar(ch);
}
```

#### 반환형이 int이고, int형 변수에 문자를 담는 이유
getchar 함수와 fgetc 함수가 반환하는 값 중 하나인 **EOF는 -1로 정의된 상수**이다.<br/>
따라서 반환형이 char형이라면, 그리고 char를 unsigned char로 처리하는 컴파일러에 의해서 컴파일이 되었다면,<br/>
EOF는 반환의 과정에서 엉뚱한 양의 정수로 형 변환이 되어버리고 만다. 그래서 **어떠한 상황에서도 -1을 인식할 수 있는 int형으로 반환형을 정의**해 놓은 것이다.

#### 문자 단위 입출력 함수의 존재 이유
**print**와 **scanf 함수**는 본래 서식지정을 통해서 **새로운 입출력의 형태를 구성하는 함수**이다.
이렇듯 화려한 기능을 제공하는 함수는 그에 따른 대가가 요구되어 사용하는 **메모리 공간도 크고, 해야 할 연산의 양도 많아서 상대적으로 속도가 느리다**.
뿐만 아니라 **별도의 서식지정을 해야 하니 문장을 구성하는 것도 번거로운 편**이다.
따라서 단순히 문자 하나를 입출력 하는 것이 목적이라면 **문자 입력함수와 문자 출력함수**를 사용하면 된다.

#### 문자열 출력 함수(puts,fputs)
* **puts 함수**가 호출되면 문자열 출력 후 **자동으로 개행이 이뤄**지지만, **fputs 함수**가 호출되면 **문자열 출력 후 자동으로 개행이 이뤄지지 않는다**.
```cpp
#include <stdio.h>

//성공 시 음수가 아닌 값을, 실패 시 EOF 반환
int puts(const char* s);
int fputs(const char* s, FILE* stream);
```
